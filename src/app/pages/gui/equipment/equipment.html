<div class="equipment-panel">
  <div class="equipment-header">
    <h3>⚔️ Equipment - {{ selectedCharacter().name }}</h3>
    <button class="close-panel-button" (click)="close()">×</button>
  </div>
  <div class="equipment-grid">
    <div class="equipment-slot">
      <div class="slot-label">Weapon</div>
      @if (selectedCharacter().weapon_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().weapon_slot)"
        [alt]="selectedCharacter().weapon_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().weapon_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Shield</div>
      @if (selectedCharacter().shield_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().shield_slot)"
        [alt]="selectedCharacter().shield_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().shield_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Helmet</div>
      @if (selectedCharacter().helmet_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().helmet_slot)"
        [alt]="selectedCharacter().helmet_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().helmet_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Body Armor</div>
      @if (selectedCharacter().body_armor_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().body_armor_slot)"
        [alt]="selectedCharacter().body_armor_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().body_armor_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Leg Armor</div>
      @if (selectedCharacter().leg_armor_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().leg_armor_slot)"
        [alt]="selectedCharacter().leg_armor_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().leg_armor_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Boots</div>
      @if (selectedCharacter().boots_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().boots_slot)"
        [alt]="selectedCharacter().boots_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().boots_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Ring 1</div>
      @if (selectedCharacter().ring1_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().ring1_slot)"
        [alt]="selectedCharacter().ring1_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().ring1_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Ring 2</div>
      @if (selectedCharacter().ring2_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().ring2_slot)"
        [alt]="selectedCharacter().ring2_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().ring2_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Amulet</div>
      @if (selectedCharacter().amulet_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().amulet_slot)"
        [alt]="selectedCharacter().amulet_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().amulet_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Artifact 1</div>
      @if (selectedCharacter().artifact1_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().artifact1_slot)"
        [alt]="selectedCharacter().artifact1_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().artifact1_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Artifact 2</div>
      @if (selectedCharacter().artifact2_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().artifact2_slot)"
        [alt]="selectedCharacter().artifact2_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().artifact2_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Artifact 3</div>
      @if (selectedCharacter().artifact3_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().artifact3_slot)"
        [alt]="selectedCharacter().artifact3_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().artifact3_slot || 'Empty' }}
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Utility 1</div>
      @if (selectedCharacter().utility1_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().utility1_slot)"
        [alt]="selectedCharacter().utility1_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().utility1_slot || 'Empty' }} @if
        (selectedCharacter().utility1_slot) {
        <span class="utility-quantity"
          >× {{ selectedCharacter().utility1_slot_quantity }}</span
        >
        }
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Utility 2</div>
      @if (selectedCharacter().utility2_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().utility2_slot)"
        [alt]="selectedCharacter().utility2_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().utility2_slot || 'Empty' }} @if
        (selectedCharacter().utility2_slot) {
        <span class="utility-quantity"
          >× {{ selectedCharacter().utility2_slot_quantity }}</span
        >
        }
      </div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Bag</div>
      @if (selectedCharacter().bag_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().bag_slot)"
        [alt]="selectedCharacter().bag_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">{{ selectedCharacter().bag_slot || 'Empty' }}</div>
    </div>
    <div class="equipment-slot">
      <div class="slot-label">Rune</div>
      @if (selectedCharacter().rune_slot) {
      <img
        [src]="getItemImageUrl(selectedCharacter().rune_slot)"
        [alt]="selectedCharacter().rune_slot"
        class="equipment-image"
      />
      }
      <div class="slot-item">
        {{ selectedCharacter().rune_slot || 'Empty' }}
      </div>
    </div>
  </div>
</div>
